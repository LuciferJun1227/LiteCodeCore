@using System.Threading.Tasks
@using LuckyCode.ViewModels
@model LuckyCode.ViewModels.ChangePasswordViewModel
@addTagHelper *,Microsoft.AspNetCore.Mvc.TagHelpers
@{
    Layout = null;
    ViewBag.Title = "ChangePassword";
}
<div class="modal-dialog">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <h4 class="modal-title" id="myModalLabel">修改密码</h4>
        </div>

        @*+------------------------+-----------------------------+
        |      AjaxOptions       |       HTML attribute        |
        +------------------------+-----------------------------+
        | Confirm                | data-ajax-confirm           |
        | HttpMethod             | data-ajax-method            |
        | InsertionMode          | data-ajax-mode              |
        | LoadingElementDuration | data-ajax-loading-duration  |
        | LoadingElementId       | data-ajax-loading           |
        | OnBegin                | data-ajax-begin             |
        | OnComplete             | data-ajax-complete          |
        | OnFailure              | data-ajax-failure           |
        | OnSuccess              | data-ajax-success           |
        | UpdateTargetId         | data-ajax-update            |
        | Url                    | data-ajax-url               |
        +------------------------+-----------------------------+*@
            @*@using (Ajax.BeginForm("ChangePassword", "SysUsers", new AjaxOptions() { HttpMethod = "Post", OnSuccess = "AppUI.Sussess" }, new { @class = "form-horizontal" }))*@
            
        <form asp-action="ChangePassword" asp-controller="SysUsers" data-ajax="true" data-ajax-method="POST" data-ajax-success ="AppUI.Sussess" class="form-horizontal">
            <div class="modal-body">
                @Html.AntiForgeryToken()
                @Html.ValidationSummary(false)

                @Html.HiddenFor(a => a.Id)
                <div class="form-group">
                    @Html.LabelFor(a => a.OldPassword, new { @class = "col-sm-2 control-label" })
                    <div class="col-sm-10 ">
                        @Html.TextBoxFor(a => a.OldPassword, new { @class = "form-control" })
                        @Html.ValidationMessageFor(a => a.OldPassword)
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(a => a.NewPassword, new { @class = "col-sm-2 control-label" })
                    <div class="col-sm-10 ">
                        @Html.TextBoxFor(a => a.NewPassword, new { @class = "form-control" })
                        @Html.ValidationMessageFor(a => a.NewPassword)
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(a => a.ConfirmPassword, new { @class = "col-sm-2 control-label" })
                    <div class="col-sm-10 ">
                        @Html.TextBoxFor(a => a.ConfirmPassword, new { @class = "form-control" })
                        @Html.ValidationMessageFor(a => a.ConfirmPassword)
                    </div>
                </div>


            </div>
            <div class="modal-footer">
                <div class="col-md-offset-3">
                    <button type="submit" class="btn btn-flat btn-success btn-padding">保存</button>
                </div>
            </div>

        </form>
       
    </div>
</div>
<script type="text/javascript">

</script>
